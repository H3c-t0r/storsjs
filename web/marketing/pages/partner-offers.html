<!-- Copyright (C) 2019 Storj Labs, Inc.
See LICENSE for copying information. -->

{{define "partnerOffers"}}
<div class="partner-wrapper">
<div class="offers-table partners-table mt-2 mb-5 container-fluid">
    <div class="row header-row">
        <div class="col col-heading">Name</div>
        <div class="col col-heading">Give Credit</div> 
        <div class="col col-heading">Redeemable Capacity</div>
        <div class="col col-heading">Created</div>
        <div class="col col-heading">Expiration</div>
        <div class="col col-heading">Status</div>
        <div class="col col-heading">Link</div>
    </div><hr>
    <div class="row offer-heading">
        <p class="offer-type">Default&nbsp;Offer</p>
    </div>
    {{$defaultOffer := .OfferSet.PartnerOffers.Default}}
    {{if not $defaultOffer.IsEmpty}}
    <div class="row data-row">
        <div class="col">{{$defaultOffer.Name}}</div>
        <div class="col">${{$defaultOffer.InviteeCredit}}</div> 
        <div class="col">&#8734;</div>
        <div class="col">{{printf "%.10s" $defaultOffer.CreatedAt}}</div>
        <div class="col">&#8734;</div>
        <div class="col">Default</div>
        <div class="col ml-5">https://mars.tardigrade.io/refs/{{$defaultOffer.Name}}</div>
    </div><hr>
    {{end}}
    <div class="row offer-heading ">
        <p class="offer-type">Current&nbsp;Offer</p>
    </div>
    {{$currentOffer := .OfferSet.PartnerOffers.Active}}
    {{if not $currentOffer.IsEmpty}}
        <div class="row data-row">
            <div class="col">{{$currentOffer.Name}}</div>
            <div class="col">${{$currentOffer.InviteeCredit}}</div> 
            <div class="col">{{$currentOffer.RedeemableCap}}</div>
            <div class="col">{{printf "%.10s" $currentOffer.CreatedAt}}</div>
            <div class="col">{{printf "%.10s" $currentOffer.ExpiresAt}}</div>
            <div class="col stop-offer">
                <span data-toggle="modal" data-target=".stop-partner-offer-modal">
                    <strong>Live &#183;</strong>
                </span>
            </div>
            <div class="col ml-5">https://mars.tardigrade.io/refs/{{$currentOffer.Name}}</div>  
        </div><hr>
    {{end}}
    {{template "stopPartnerOffer" .}}
    <div class="row offer-heading ">
        <p class="offer-type">Other&nbsp;Offers</p>
    </div>
    {{range .OfferSet.PartnerOffers.Done}}
    <div class="row data-row">
        <div class="col">{{.Name}}</div>
        <div class="col">${{.InviteeCredit}}</div>
        <div class="col">{{.RedeemableCap}}</div>
        <div class="col">{{printf "%.10s" .CreatedAt}}</div>
        <div class="col">{{printf "%.10s" .ExpiresAt}}</div>
        <div class="col">off</div>
        <div class="col ml-5">https://mars.tardigrade.io/refs/{{.Name}}</div>
    </div><hr>
    {{end}}
    {{end}}
</div>
</div>
