<!-- Copyright (C) 2019 Storj Labs, Inc.
See LICENSE for copying information. -->

{{define "referralOffers"}}
<div class="offers-table mt-2 mb-5 container">
    <div class="row">
        <div class="col col-heading">Name</div>
        <div class="col col-heading">Give Credit</div> 
        <div class="col col-heading">Award Credit</div>
        <div class="col col-heading">Referrals Used</div>
        <div class="col col-heading">Redeemable Capacity</div>
        <div class="col col-heading">Created</div>
        <div class="col col-heading">Expiration</div>
        <div class="col col-heading">Status</div>
    </div><hr>
    <div class="row offer-heading ">
        <p class="offer-type">default offer</p>
    </div>
    {{$defaultOffer := .ReferralOffers.Default}}
    <div class="row data-row">
        <div class="col ml-3">{{$defaultOffer.Name}}</div>
        <div class="col">${{ToDollars $defaultOffer.InviteeCreditInCents}}</div> 
        <div class="col">${{ToDollars $defaultOffer.AwardCreditInCents}}</div>
        <div class="col">{{$defaultOffer.NumRedeemed}}</div>
        <div class="col">&#8734;</div>
        <div class="col">{{printf "%.10s" $defaultOffer.CreatedAt}}</div>
        <div class="col">&#8734;</div>
        <div class="col"></div>
    </div><hr>
    <div class="row offer-heading ">
        <p class="offer-type">active offer</p>
    </div>
    {{$activeOffer := .ReferralOffers.Active}}
        <div class="row data-row">
            <div class="col ml-3">{{$activeOffer.Name}}</div>
            <div class="col">${{ToDollars $activeOffer.InviteeCreditInCents}}</div> 
            <div class="col">${{ToDollars $activeOffer.AwardCreditInCents}}</div>
            <div class="col">{{$activeOffer.NumRedeemed}}</div>
            <div class="col">{{$activeOffer.RedeemableCap}}</div>
            <div class="col">{{printf "%.10s" $activeOffer.CreatedAt}}</div>
            <div class="col">{{printf "%.10s" $activeOffer.ExpiresAt}}</div>
            <div class="col stop-offer">
                <span data-toggle="modal" data-target=".stop-referral-offer-modal">
                    <strong>Live &#183;</strong>
                </span>
            </div>    
        </div><hr>
    {{template "stopReferralOffer" .}}
    <div class="row offer-heading ">
        <p class="offer-type">other offers</p>
    </div>
    {{range .ReferralOffers.Done}}
    <div class="row data-row">
        <div class="col ml-3">{{.Name}}</div>
        <div class="col">${{ToDollars .InviteeCreditInCents}}</div> 
        <div class="col">${{ToDollars .AwardCreditInCents}}</div>
        <div class="col">{{.NumRedeemed}}</div>
        <div class="col">{{.RedeemableCap}}</div>
        <div class="col">{{printf "%.10s" .CreatedAt}}</div>
        <div class="col">{{printf "%.10s" .ExpiresAt}}</div>
        <div class="col">off</div>
    </div><hr>
    {{end}}
</div>
{{end}}