{"remainingRequest":"/Users/andriikotko/Work/storj/web/multinode/node_modules/thread-loader/dist/cjs.js!/Users/andriikotko/Work/storj/web/multinode/node_modules/babel-loader/lib/index.js!/Users/andriikotko/Work/storj/web/multinode/node_modules/ts-loader/index.js??ref--13-3!/Users/andriikotko/Work/storj/web/multinode/src/api/nodes.ts","dependencies":[{"path":"/Users/andriikotko/Work/storj/web/multinode/src/api/nodes.ts","mtime":1612525852474},{"path":"/Users/andriikotko/Work/storj/web/multinode/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andriikotko/Work/storj/web/multinode/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andriikotko/Work/storj/web/multinode/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/andriikotko/Work/storj/web/multinode/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2FuZHJpaWtvdGtvL1dvcmsvc3Rvcmovd2ViL211bHRpbm9kZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IiOwoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgovLyBDb3B5cmlnaHQgKEMpIDIwMjEgU3RvcmogTGFicywgSW5jLgovLyBTZWUgTElDRU5TRSBmb3IgY29weWluZyBpbmZvcm1hdGlvbi4KaW1wb3J0IHsgQmFkUmVxdWVzdEVycm9yLCBJbnRlcm5hbEVycm9yLCBVbmF1dGhvcml6ZWRFcnJvciB9IGZyb20gJ0AvYXBpL2luZGV4JzsKaW1wb3J0IHsgTm9kZSwgTm9kZVVSTCB9IGZyb20gJ0Avbm9kZXMnOwppbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSAnQC9wcml2YXRlL2h0dHAvY2xpZW50JzsKLyoqCiAqIGNsaWVudCBmb3Igbm9kZXMgY29udHJvbGxlciBvZiBNTkQgYXBpLgogKi8KCmV4cG9ydCB2YXIgTm9kZXNDbGllbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIE5vZGVzQ2xpZW50KCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vZGVzQ2xpZW50KTsKCiAgICB0aGlzLmh0dHAgPSBuZXcgSHR0cENsaWVudCgpOwogICAgdGhpcy5ST09UX1BBVEggPSAnL2FwaS92MC9ub2Rlcyc7CiAgfQogIC8qKgogICAqIGhhbmRsZXMgbm9kZSBhZGRpdGlvbi4KICAgKgogICAqIEBwYXJhbSBub2RlIC0gbm9kZSB0byBhZGQuCiAgICoKICAgKiBAdGhyb3dzIHtAbGluayBCYWRSZXF1ZXN0RXJyb3J9CiAgICogVGhpcyBleGNlcHRpb24gaXMgdGhyb3duIGlmIHRoZSBpbnB1dCBpcyBub3QgYSB2YWxpZC4KICAgKgogICAqIEB0aHJvd3Mge0BsaW5rIFVuYXV0aG9yaXplZEVycm9yfQogICAqIFRocm93biBpZiB0aGUgYXV0aCBjb29raWUgaXMgbWlzc2luZyBvciBpbnZhbGlkLgogICAqCiAgICogQHRocm93cyB7QGxpbmsgSW50ZXJuYWxFcnJvcn0KICAgKiBUaHJvd24gaWYgc29tZXRoaW5nIGdvZXMgd3Jvbmcgb24gc2VydmVyIHNpZGUuCiAgICovCgoKICBfY3JlYXRlQ2xhc3MoTm9kZXNDbGllbnQsIFt7CiAgICBrZXk6ICJhZGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9hZGQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKG5vZGUpIHsKICAgICAgICB2YXIgcGF0aCwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhdGggPSAiIi5jb25jYXQodGhpcy5ST09UX1BBVEgpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5odHRwLnBvc3QocGF0aCwgSlNPTi5zdHJpbmdpZnkobm9kZSkpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZUVycm9yKHJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGFkZChfeCkgewogICAgICAgIHJldHVybiBfYWRkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBhZGQ7CiAgICB9KCkKICAgIC8qKgogICAgICogcmV0dXJucyBsaXN0IG9mIG5vZGUgaW5mb3MuCiAgICAgKgogICAgICogQHRocm93cyB7QGxpbmsgQmFkUmVxdWVzdEVycm9yfQogICAgICogVGhpcyBleGNlcHRpb24gaXMgdGhyb3duIGlmIHRoZSBpbnB1dCBpcyBub3QgYSB2YWxpZC4KICAgICAqCiAgICAgKiBAdGhyb3dzIHtAbGluayBVbmF1dGhvcml6ZWRFcnJvcn0KICAgICAqIFRocm93biBpZiB0aGUgYXV0aCBjb29raWUgaXMgbWlzc2luZyBvciBpbnZhbGlkLgogICAgICoKICAgICAqIEB0aHJvd3Mge0BsaW5rIEludGVybmFsRXJyb3J9CiAgICAgKiBUaHJvd24gaWYgc29tZXRoaW5nIGdvZXMgd3Jvbmcgb24gc2VydmVyIHNpZGUuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAibGlzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2xpc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcGF0aCwgcmVzcG9uc2UsIG5vZGVMaXN0SnNvbjsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhdGggPSAiIi5jb25jYXQodGhpcy5ST09UX1BBVEgsICIvaW5mb3MiKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHBhdGgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZUVycm9yKHJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgbm9kZUxpc3RKc29uID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgbm9kZUxpc3RKc29uLm1hcChmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE5vZGUobm9kZS5pZCwgbm9kZS5uYW1lLCBub2RlLnZlcnNpb24sIG5ldyBEYXRlKG5vZGUubGFzdENvbnRhY3QpLCBub2RlLmRpc2tTcGFjZVVzZWQsIG5vZGUuZGlza1NwYWNlTGVmdCwgbm9kZS5iYW5kd2lkdGhVc2VkLCAwLCAwLCAwLCBub2RlLnRvdGFsRWFybmVkKTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGxpc3QoKSB7CiAgICAgICAgcmV0dXJuIF9saXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsaXN0OwogICAgfSgpCiAgICAvKioKICAgICAqIHJldHVybnMgbGlzdCBvZiBub2RlIGluZm9zIGJ5IHNhdGVsbGl0ZS4KICAgICAqCiAgICAgKiBAcGFyYW0gc2F0ZWxsaXRlSWQgLSBpZCBvZiB0aGUgc2F0ZWxsaXRlLgogICAgICoKICAgICAqIEB0aHJvd3Mge0BsaW5rIEJhZFJlcXVlc3RFcnJvcn0KICAgICAqIFRoaXMgZXhjZXB0aW9uIGlzIHRocm93biBpZiB0aGUgaW5wdXQgaXMgbm90IGEgdmFsaWQuCiAgICAgKgogICAgICogQHRocm93cyB7QGxpbmsgVW5hdXRob3JpemVkRXJyb3J9CiAgICAgKiBUaHJvd24gaWYgdGhlIGF1dGggY29va2llIGlzIG1pc3Npbmcgb3IgaW52YWxpZC4KICAgICAqCiAgICAgKiBAdGhyb3dzIHtAbGluayBJbnRlcm5hbEVycm9yfQogICAgICogVGhyb3duIGlmIHNvbWV0aGluZyBnb2VzIHdyb25nIG9uIHNlcnZlciBzaWRlLgogICAgICovCgogIH0sIHsKICAgIGtleTogImxpc3RCeVNhdGVsbGl0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2xpc3RCeVNhdGVsbGl0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHNhdGVsbGl0ZUlkKSB7CiAgICAgICAgdmFyIHBhdGgsIHJlc3BvbnNlLCBub2RlTGlzdEpzb247CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXRoID0gIiIuY29uY2F0KHRoaXMuUk9PVF9QQVRILCAiL2luZm9zLyIpLmNvbmNhdChzYXRlbGxpdGVJZCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5odHRwLmdldChwYXRoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVFcnJvcihyZXNwb25zZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIG5vZGVMaXN0SnNvbiA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIG5vZGVMaXN0SnNvbi5tYXAoZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBOb2RlKG5vZGUuaWQsIG5vZGUubmFtZSwgbm9kZS52ZXJzaW9uLCBuZXcgRGF0ZShub2RlLmxhc3RDb250YWN0KSwgMCwgMCwgMCwgbm9kZS5vbmxpbmVTY29yZSwgbm9kZS5hdWRpdFNjb3JlLCBub2RlLnN1c3BlbnNpb25TY29yZSwgbm9kZS50b3RhbEVhcm5lZCk7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBsaXN0QnlTYXRlbGxpdGUoX3gyKSB7CiAgICAgICAgcmV0dXJuIF9saXN0QnlTYXRlbGxpdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGxpc3RCeVNhdGVsbGl0ZTsKICAgIH0oKQogICAgLyoqCiAgICAgKiB1cGRhdGVzIG5vZGVzIG5hbWUuCiAgICAgKgogICAgICogQHBhcmFtIGlkIC0gaWQgb2YgdGhlIG5vZGUuCiAgICAgKiBAcGFyYW0gbmFtZSAtIG5ldyBub2RlIG5hbWUuCiAgICAgKgogICAgICogQHRocm93cyB7QGxpbmsgQmFkUmVxdWVzdEVycm9yfQogICAgICogVGhpcyBleGNlcHRpb24gaXMgdGhyb3duIGlmIHRoZSBpbnB1dCBpcyBub3QgYSB2YWxpZC4KICAgICAqCiAgICAgKiBAdGhyb3dzIHtAbGluayBVbmF1dGhvcml6ZWRFcnJvcn0KICAgICAqIFRocm93biBpZiB0aGUgYXV0aCBjb29raWUgaXMgbWlzc2luZyBvciBpbnZhbGlkLgogICAgICoKICAgICAqIEB0aHJvd3Mge0BsaW5rIEludGVybmFsRXJyb3J9CiAgICAgKiBUaHJvd24gaWYgc29tZXRoaW5nIGdvZXMgd3Jvbmcgb24gc2VydmVyIHNpZGUuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidXBkYXRlTmFtZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3VwZGF0ZU5hbWUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChpZCwgbmFtZSkgewogICAgICAgIHZhciBwYXRoLCByZXNwb25zZTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhdGggPSAiIi5jb25jYXQodGhpcy5ST09UX1BBVEgsICIvIikuY29uY2F0KGlkKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmh0dHAucGF0Y2gocGF0aCwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lCiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IocmVzcG9uc2UpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cGRhdGVOYW1lKF94MywgX3g0KSB7CiAgICAgICAgcmV0dXJuIF91cGRhdGVOYW1lLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1cGRhdGVOYW1lOwogICAgfSgpCiAgICAvKioKICAgICAqIGRlbGV0ZXMgbm9kZS4KICAgICAqCiAgICAgKiBAcGFyYW0gaWQgLSBpZCBvZiB0aGUgbm9kZS4KICAgICAqCiAgICAgKiBAdGhyb3dzIHtAbGluayBCYWRSZXF1ZXN0RXJyb3J9CiAgICAgKiBUaGlzIGV4Y2VwdGlvbiBpcyB0aHJvd24gaWYgdGhlIGlucHV0IGlzIG5vdCBhIHZhbGlkLgogICAgICoKICAgICAqIEB0aHJvd3Mge0BsaW5rIFVuYXV0aG9yaXplZEVycm9yfQogICAgICogVGhyb3duIGlmIHRoZSBhdXRoIGNvb2tpZSBpcyBtaXNzaW5nIG9yIGludmFsaWQuCiAgICAgKgogICAgICogQHRocm93cyB7QGxpbmsgSW50ZXJuYWxFcnJvcn0KICAgICAqIFRocm93biBpZiBzb21ldGhpbmcgZ29lcyB3cm9uZyBvbiBzZXJ2ZXIgc2lkZS4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJkZWxldGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9kZWxldGUyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoaWQpIHsKICAgICAgICB2YXIgcGF0aCwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXRoID0gIiIuY29uY2F0KHRoaXMuUk9PVF9QQVRILCAiLyIpLmNvbmNhdChpZCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5odHRwWyJkZWxldGUiXShwYXRoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVFcnJvcihyZXNwb25zZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIF9kZWxldGUoX3g1KSB7CiAgICAgICAgcmV0dXJuIF9kZWxldGUyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBfZGVsZXRlOwogICAgfSgpCiAgICAvKioKICAgICAqIHJldHJpZXZlcyBsaXN0IG9mIHRydXN0ZWQgc2F0ZWxsaXRlcyBub2RlIHVybHMgZm9yIGEgbm9kZS4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ0cnVzdGVkU2F0ZWxsaXRlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3RydXN0ZWRTYXRlbGxpdGVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHBhdGgsIHJlc3BvbnNlLCB1cmxMaXN0SnNvbjsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhdGggPSAiIi5jb25jYXQodGhpcy5ST09UX1BBVEgsICIvdHJ1c3RlZC1zYXRlbGxpdGVzIik7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5odHRwLmdldChwYXRoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDYuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVFcnJvcihyZXNwb25zZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHVybExpc3RKc29uID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgdXJsTGlzdEpzb24ubWFwKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBOb2RlVVJMKHVybC5JRCwgdXJsLk5hbWUpOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gdHJ1c3RlZFNhdGVsbGl0ZXMoKSB7CiAgICAgICAgcmV0dXJuIF90cnVzdGVkU2F0ZWxsaXRlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1c3RlZFNhdGVsbGl0ZXM7CiAgICB9KCkKICAgIC8qKgogICAgICogaGFuZGxlcyBlcnJvciBkdWUgdG8gcmVzcG9uc2UgY29kZS4KICAgICAqIEBwYXJhbSByZXNwb25zZSAtIHJlc3BvbnNlIGZyb20gc2VydmVyLgogICAgICoKICAgICAqIEB0aHJvd3Mge0BsaW5rIEJhZFJlcXVlc3RFcnJvcn0KICAgICAqIFRoaXMgZXhjZXB0aW9uIGlzIHRocm93biBpZiB0aGUgaW5wdXQgaXMgbm90IGEgdmFsaWQgSVNCTiBudW1iZXIuCiAgICAgKgogICAgICogQHRocm93cyB7QGxpbmsgVW5hdXRob3JpemVkRXJyb3J9CiAgICAgKiBUaHJvd24gaWYgdGhlIElTQk4gbnVtYmVyIGlzIHZhbGlkLCBidXQgbm8gc3VjaCBib29rIGV4aXN0cyBpbiB0aGUgY2F0YWxvZy4KICAgICAqCiAgICAgKiBAdGhyb3dzIHtAbGluayBJbnRlcm5hbEVycm9yfQogICAgICogVGhyb3duIGlmIHRoZSBJU0JOIG51bWJlciBpcyB2YWxpZCwgYnV0IG5vIHN1Y2ggYm9vayBleGlzdHMgaW4gdGhlIGNhdGFsb2cuCiAgICAgKgogICAgICogQHByaXZhdGUKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJoYW5kbGVFcnJvciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2hhbmRsZUVycm9yID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcocmVzcG9uc2UpIHsKICAgICAgICB2YXIgYm9keTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGJvZHkgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IHJlc3BvbnNlLnN0YXR1czsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gX2NvbnRleHQ3LnQwID09PSA0MDEgPyA2IDogX2NvbnRleHQ3LnQwID09PSA0MDAgPyA3IDogX2NvbnRleHQ3LnQwID09PSA1MDAgPyA4IDogODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5hdXRob3JpemVkRXJyb3IoYm9keS5lcnJvcik7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBCYWRSZXF1ZXN0RXJyb3IoYm9keS5lcnJvcik7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnRlcm5hbEVycm9yKGJvZHkuZXJyb3IpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBoYW5kbGVFcnJvcihfeDYpIHsKICAgICAgICByZXR1cm4gX2hhbmRsZUVycm9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBoYW5kbGVFcnJvcjsKICAgIH0oKQogIH1dKTsKCiAgcmV0dXJuIE5vZGVzQ2xpZW50Owp9KCk7"},null]}